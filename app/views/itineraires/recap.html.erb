<% content_for :title, "Seety - Validation d'itinÃ©raire" %>

<%= link_to url_for(:back) do %>
  <div class="return"><i class="fas fa-arrow-left"></i></div>
<% end %>

<div id="green-choice">
  <div class="green-choice-circle">
    <i class="far fa-check-circle green-choice-i"></i>
  </div>
  <div class="green-choice-container">
    <%= link_to "Je valide mes monuments", itinary_path(@itineraire), class: "choice-made" %>
  </div>
</div>

<div id="map"></div>



<div class="cards">
  <div class="ball-monuments">
    <% @monuments.each do |monument| %>
    <div class="ball-monument" id="<%= "ball-#{monument.id}" %>"></div>
    <% end %>
  </div>


  <% @monuments.each_with_index do |monument, index| %>
  <div class="card" id="monument-<%= monument.id %>" style="<%= "visibility: hidden" unless index.zero? %>">
    <div class="monument-image-div">
      <%= cl_image_tag(monument.photo, class: "monument-image-new") %>
    </div>
    <h2 class="monument-name"><%= monument.name %></h2>

    <div class="card-stars">
      <% compteur_empty_stars = 5 %>
      <% score_to_stars(monument.score).to_i.times do %>
        <i class="fas fa-star"></i>
        <% compteur_empty_stars -= 1 %>
      <% end %>
      <% if (score_to_stars(monument.score) - score_to_stars(monument.score).to_i == 0.5) %>
        <i class="fas fa-star-half-alt"></i>
        <% compteur_empty_stars -= 1 %>
      <% end %>
      <% compteur_empty_stars.times do %>
      <i class="far fa-star"></i>
      <% end %>
    </div>

    <div class="arrow-container">
      <i class="fas fa-chevron-left img-arrow-left"></i>
      <i class="fas fa-chevron-right img-arrow-right"></i>
    </div>

    <%= link_to delete_path(@itineraire, monument.id), method: :delete, class: "delete-card" do %>
      <i class="fas fa-times"></i>
    <% end %>
  </div>
  <% end %>
</div>


<% content_for(:js) do %>
  <%= javascript_pack_tag 'recap' %>
<% end %>


<style>
  body, html {
    overflow: hidden;
  }

  body {
    position: relative;
  }
</style>
